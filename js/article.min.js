(function(b){var d={init:function(a){this.gallery=a;this.image_area=a.find(".image_area");this.image_width=630;this.image_height=420;this.images=this.lazyLoadImages();this.prev_button=this.gallery.find("button.previous");this.next_button=this.gallery.find("button.next");this.thumbnails=this.gallery.find(".image_thumb");this.number_of_images=this.images.length-1;this.active_image_index=0;this.bindEvents()},lazyLoadImages:function(){var a=this;this.image_area.find(".image_placeholder").each(function(){var c=
b(this),d=b("<img>").attr("src",c.data("src")).attr("width",a.image_width).attr("height",a.image_height);c.after(d);c.remove()});return this.image_area.find("img")},bindEvents:function(){var a=this;this.prev_button.on("click",b.proxy(this.prevImage,this));this.next_button.on("click",b.proxy(this.nextImage,this));this.thumbnails.on("click",function(c){c.preventDefault();a.thumbnailClicked(b(this))})},nextImage:function(){this.active_image_index<this.number_of_images&&this.moveTo(this.active_image_index+
1)},prevImage:function(){0<this.active_image_index&&this.moveTo(this.active_image_index-1)},moveTo:function(a){this.images.removeClass("active");this.images.eq(a).addClass("active");this.thumbnails.removeClass("active");this.thumbnails.eq(a).addClass("active");this.checkInactiveButton(a);this.active_image_index=a},checkInactiveButton:function(a){0===a?this.prev_button.addClass("inactive"):this.prev_button.removeClass("inactive");a===this.number_of_images?this.next_button.addClass("inactive"):this.next_button.removeClass("inactive")},
thumbnailClicked:function(a){a=this.thumbnails.index(a);this.moveTo(a)}};b(document).ready(function(){b(".article_gallery").each(function(){Object.create(d).init(b(this))})})})(jQuery);
