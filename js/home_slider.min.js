(function(b){var f={init:function(){this.fade_out_duration=150;this.slider=b(".home .slider");this.slider_timeout=this.slider.data("timeout");this.images_window=this.slider.find(".images_window");this.image_anchors=this.images_window.find("a");this.title_field=this.slider.find(".title");this.cat_field=this.slider.find(".category");this.left_control=this.slider.find(".left");this.right_control=this.slider.find(".right");this.boxes=this.slider.find(".boxes button");this.image_width=630;this.image_height=
263;this.current_image=0;this.number_of_images=this.image_anchors.length-1;this.title_timeout=!1;this.lazyLoadImages();this.bindEvents();0!=this.slider_timeout&&this.setSliderTimeout()},bindEvents:function(){this.left_control.on("click",b.proxy(this.previousImage,this));this.right_control.on("click",b.proxy(this.nextImage,this));var a=this;this.boxes.on("click",function(){a.boxClick(b(this))})},lazyLoadImages:function(){var a=this;this.image_anchors.filter(":not(:has(img))").each(function(){var e=
b(this),c=b("<img>").attr("src",e.data("img")).attr("alt",e.data("title")).attr("width",a.image_width).attr("height",a.image_height);e.append(c)})},nextImage:function(){this.current_image<this.number_of_images?this.moveToImage(this.current_image+1):this.moveToImage(0)},previousImage:function(){0<this.current_image?this.moveToImage(this.current_image-1):this.moveToImage(this.number_of_images)},moveToImage:function(a){this.images_window.css("margin-left",-(a*this.image_width));this.setActiveBox(a);
this.setNewTitle(a);this.current_image=a},setActiveBox:function(a){this.boxes.removeClass("active");this.boxes.eq(a).addClass("active")},setNewTitle:function(a){var b=this.title_field.add(this.cat_field);b.addClass("fade_out");var c=this;clearTimeout(this.title_timeout);this.title_timeout=setTimeout(function(){var d=c.image_anchors.eq(a);c.title_field.text(d.data("title"));c.title_field.attr("href",d.attr("href"));c.cat_field.text(d.data("category"));c.cat_field.attr("href",d.data("category_url"));
b.removeClass("fade_out")},this.fade_out_duration)},setSliderTimeout:function(){var a=this;setInterval(function(){a.slider.is(":hover")||a.nextImage()},this.slider_timeout)},boxClick:function(a){a=this.boxes.index(a);this.moveToImage(a)}};b(document).ready(function(){f.init()})})(jQuery);
